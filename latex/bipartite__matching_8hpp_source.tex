\doxysection{bipartite\+\_\+matching.\+hpp}
\hypertarget{bipartite__matching_8hpp_source}{}\label{bipartite__matching_8hpp_source}\index{graph/bipartite\_matching.hpp@{graph/bipartite\_matching.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include"{}../../kyopro\_library/template.hpp"{}}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include"{}../../kyopro\_library/graph/flow/max\_flow.hpp"{}}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00007\ vector<pair<int,int>>\ BipartiteMatching(\textcolor{keyword}{const}\ VVI\&\ g)\ \{}
\DoxyCodeLine{00008\ \ \ \ \ \textcolor{keywordtype}{int}\ n=g.size();}
\DoxyCodeLine{00009\ \ \ \ \ \mbox{\hyperlink{struct_max_flow}{MaxFlow}}\ mxf(n+2);}
\DoxyCodeLine{00010\ \ \ \ \ \textcolor{keywordtype}{int}\ s=n,t=n+1;}
\DoxyCodeLine{00011\ \ \ \ \ REP(i,n)\ \{}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ j:g[i])\ mxf.add\_edge(i,j,1);}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ mxf.add\_edge(s,i,1);}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ mxf.add\_edge(i,t,1);}
\DoxyCodeLine{00015\ \ \ \ \ \}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \ \ mxf.flow(s,t);}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ vector<pair<int,int>>\ ret;}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keyword}{auto}\ edges=mxf.get\_edges();}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\&\ e:edges)\ \{}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(e.from==s)\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(e.to==t)\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(e.flow==1)\ ret.push\_back(\{e.from,e.to\});}
\DoxyCodeLine{00025\ \ \ \ \ \}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{00028\ \}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00031\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_bi_info}{BiInfo}}\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_bi_info_a1dcdc34950c9b5d1da1722947a1bc5a8}{max\_matching}};\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_bi_info_a5abd51537fbadf9591f5b7ffbba56c61}{min\_edge\_cover}};\ }
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_bi_info_a55dc89a0de093ae7e4e17ed1a93356f7}{max\_independent\_set}};\ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_bi_info_a6a8d383b96380447ef6f9dc284f0e527}{min\_vertex\_cover}};\ }
\DoxyCodeLine{00037\ \};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00042\ \mbox{\hyperlink{struct_bi_info}{BiInfo}}\ GetBiInfo(\textcolor{keyword}{const}\ VVI\&\ g)\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{int}\ n=g.size();}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordtype}{int}\ isolation=0;}
\DoxyCodeLine{00045\ \ \ \ \ REP(i,n)\ \textcolor{keywordflow}{if}(g[i].size()==0)\ isolation++;}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{struct_bi_info}{BiInfo}}\ ret;}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordtype}{int}\ m=BipartiteMatching(g).size();}
\DoxyCodeLine{00049\ \ \ \ \ ret.\mbox{\hyperlink{struct_bi_info_a1dcdc34950c9b5d1da1722947a1bc5a8}{max\_matching}}=m;}
\DoxyCodeLine{00050\ \ \ \ \ ret.\mbox{\hyperlink{struct_bi_info_a5abd51537fbadf9591f5b7ffbba56c61}{min\_edge\_cover}}=isolation==0?n-\/m:-\/1;}
\DoxyCodeLine{00051\ \ \ \ \ ret.\mbox{\hyperlink{struct_bi_info_a6a8d383b96380447ef6f9dc284f0e527}{min\_vertex\_cover}}=m;}
\DoxyCodeLine{00052\ \ \ \ \ ret.\mbox{\hyperlink{struct_bi_info_a55dc89a0de093ae7e4e17ed1a93356f7}{max\_independent\_set}}=n-\/m;}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{00055\ \}}

\end{DoxyCode}
